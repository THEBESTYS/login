<!DOCTYPE html>
<html>
<head>
    <title>ë¡œì»¬ í…ŒìŠ¤íŠ¸</title>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <h2>ë¡œì»¬ Firestore í…ŒìŠ¤íŠ¸</h2>
    <button onclick="testFirestore()" style="padding:15px;background:blue;color:white;border:none;font-size:18px;">
        ğŸ”¥ ì—¬ê¸°ë¥¼ í´ë¦­í•˜ì„¸ìš”!
    </button>
    <div id="result" style="margin-top:20px;"></div>

    <script>
        // Firebase ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyC1XDqgki7lKMz-EE4ZFzOLmku8EsLI0yI",
            authDomain: "login-57c14.firebaseapp.com",
            projectId: "login-57c14",
            storageBucket: "login-57c14.firebasestorage.app",
            messagingSenderId: "847658526472",
            appId: "1:847658526472:web:05adaddfea3afff8e12ebd"
        };
        
        // Firebase ì´ˆê¸°í™”
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        console.log("âœ… Firestore ì¤€ë¹„ ì™„ë£Œ");

        async function testFirestore() {
            const result = document.getElementById('result');
            result.innerHTML = 'í…ŒìŠ¤íŠ¸ ì¤‘...';
            
            try {
                // 1. Firestoreì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
                const doc = await db.collection('ashop_users').doc('test_user_001').get();
                
                if (doc.exists) {
                    const data = doc.data();
                    result.innerHTML = `
                        <div style="background:#d4edda;padding:20px;border-radius:8px;">
                            <h3>ğŸ‰ Firestore ì—°ê²° ì„±ê³µ!</h3>
                            <p><strong>ì´ë¦„:</strong> ${data.name}</p>
                            <p><strong>ì´ë©”ì¼:</strong> ${data.ì´ë©”ì¼}</p>
                            <p><strong>í•¸ë“œí°:</strong> ${data['í•¸ë“œí° ë²ˆí˜¸']}</p>
                            <p><strong>ê°€ì…ì¼:</strong> ${data.ê°€ì…ì¼?.toDate?.().toLocaleString()}</p>
                        </div>
                    `;
                    console.log('ğŸ“Š ë°ì´í„°:', data);
                } else {
                    result.innerHTML = '<p style="color:red;">âŒ ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
                }
            } catch (error) {
                result.innerHTML = `<p style="color:red;">âŒ ì—ëŸ¬: ${error.message}</p>`;
                console.error('ğŸ’¥ ì—ëŸ¬:', error);
            }
        }
        
        console.log("ğŸ”„ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ, ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”!");
    </script>
</body>
</html>
