<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œê·¸ì¸ | íšŒì›ê°€ì…</title>
    
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            width: 100%;
            max-width: 400px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        .header {
            background: #4a6fa5;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .header h1 {
            font-size: 24px;
            margin: 0;
        }
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
        }
        .tab {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: 600;
            color: #6c757d;
            cursor: pointer;
            transition: all 0.3s;
        }
        .tab:hover {
            background: #e9ecef;
        }
        .tab.active {
            background: white;
            color: #4a6fa5;
            border-bottom: 3px solid #4a6fa5;
        }
        .form-container {
            padding: 30px;
        }
        .form-panel {
            display: none;
            animation: fadeIn 0.5s;
        }
        .form-panel.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        .form-group input:focus {
            outline: none;
            border-color: #4a6fa5;
            box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.1);
        }
        .btn {
            width: 100%;
            padding: 14px;
            background: #4a6fa5;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }
        .btn:hover {
            background: #3a5a8c;
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .status {
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 6px;
            display: none;
            animation: slideIn 0.3s;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
            display: block;
        }
        @keyframes slideIn {
            from { transform: translateX(-10px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .test-area {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 4px solid #4a6fa5;
        }
        .test-btn {
            padding: 10px 20px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” ë¡œê·¸ì¸ ì‹œìŠ¤í…œ</h1>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('login')">ë¡œê·¸ì¸</button>
            <button class="tab" onclick="showTab('signup')">íšŒì›ê°€ì…</button>
        </div>
        
        <div class="form-container">
            <!-- ì‹œìŠ¤í…œ ìƒíƒœ -->
            <div id="system-status" class="status info">
                âš¡ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì¤‘...
            </div>
            
            <!-- ë¡œê·¸ì¸ í¼ -->
            <div id="login-form" class="form-panel active">
                <h2 style="text-align: center; margin-bottom: 25px; color: #333;">ë¡œê·¸ì¸</h2>
                <div id="login-status" class="status"></div>
                
                <div class="form-group">
                    <label for="login-email">ì´ë©”ì¼</label>
                    <input type="email" id="login-email" placeholder="example@email.com">
                </div>
                
                <div class="form-group">
                    <label for="login-password">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="login-password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
                </div>
                
                <button class="btn" onclick="handleLogin()" id="login-btn">ë¡œê·¸ì¸</button>
                
                <div style="text-align: center; margin-top: 20px;">
                    <a href="#" onclick="showTab('signup')" style="color: #4a6fa5; text-decoration: none;">
                        ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? íšŒì›ê°€ì…
                    </a>
                </div>
            </div>
            
            <!-- íšŒì›ê°€ì… í¼ -->
            <div id="signup-form" class="form-panel">
                <h2 style="text-align: center; margin-bottom: 25px; color: #333;">íšŒì›ê°€ì…</h2>
                <div id="signup-status" class="status"></div>
                
                <div class="form-group">
                    <label for="signup-email">ì´ë©”ì¼</label>
                    <input type="email" id="signup-email" placeholder="example@email.com">
                </div>
                
                <div class="form-group">
                    <label for="signup-name">ì´ë¦„</label>
                    <input type="text" id="signup-name" placeholder="í™ê¸¸ë™">
                </div>
                
                <div class="form-group">
                    <label for="signup-password">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="signup-password" placeholder="6ì ì´ìƒ ì…ë ¥">
                </div>
                
                <div class="form-group">
                    <label for="signup-confirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                    <input type="password" id="signup-confirm" placeholder="ë¹„ë°€ë²ˆí˜¸ ë‹¤ì‹œ ì…ë ¥">
                </div>
                
                <button class="btn" onclick="handleSignup()" id="signup-btn">íšŒì›ê°€ì…</button>
                
                <div style="text-align: center; margin-top: 20px;">
                    <a href="#" onclick="showTab('login')" style="color: #4a6fa5; text-decoration: none;">
                        ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸
                    </a>
                </div>
            </div>
            
            <!-- í…ŒìŠ¤íŠ¸ ì˜ì—­ -->
            <div class="test-area">
                <h3 style="margin-top: 0; color: #333;">ğŸ”§ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</h3>
                <p style="color: #666; margin-bottom: 15px;">ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                <button class="test-btn" onclick="testFirebase()">Firebase í…ŒìŠ¤íŠ¸</button>
                <button class="test-btn" onclick="testTabButton()" style="background: #6c757d;">íƒ­ ë²„íŠ¼ í…ŒìŠ¤íŠ¸</button>
                <button class="test-btn" onclick="showConsole()" style="background: #17a2b8;">ì½˜ì†” ì—´ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // ========== ì „ì—­ ë³€ìˆ˜ ==========
        console.log("ğŸš€ ì‹œìŠ¤í…œ ë¶€íŒ… ì‹œì‘...");
        
        // Firebase ëª¨ì˜ ê°ì²´ (ì„ì‹œ)
        window.firebase = {
            apps: [],
            initializeApp: function(config) {
                console.log("ğŸ”¥ Firebase ì´ˆê¸°í™” ì‹œë„:", config.projectId);
                this.apps.push({ options: config, name: '[DEFAULT]' });
                console.log("âœ… Firebase ëª¨ì˜ ì´ˆê¸°í™” ì™„ë£Œ");
                return this.apps[0];
            },
            auth: function() {
                console.log("ğŸ” Auth ê°ì²´ ìƒì„±");
                return {
                    createUserWithEmailAndPassword: function(email, password) {
                        console.log("ğŸ“ íšŒì›ê°€ì… ì‹œë„:", email);
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                reject(new Error("Firebase SDKê°€ ì‹¤ì œë¡œ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”."));
                            }, 1000);
                        });
                    },
                    signInWithEmailAndPassword: function(email, password) {
                        console.log("ğŸ”‘ ë¡œê·¸ì¸ ì‹œë„:", email);
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                reject(new Error("Firebase SDKê°€ ì‹¤ì œë¡œ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."));
                            }, 1000);
                        });
                    }
                };
            },
            firestore: function() {
                console.log("ğŸ—„ï¸ Firestore ê°ì²´ ìƒì„±");
                return {
                    collection: function(name) {
                        return {
                            doc: function(id) {
                                return {
                                    set: function(data) {
                                        console.log("ğŸ’¾ Firestore ì €ì¥ ì‹œë„:", name, id);
                                        return new Promise((resolve, reject) => {
                                            setTimeout(() => {
                                                reject(new Error("Firestore ì—°ê²° ì‹¤íŒ¨"));
                                            }, 1000);
                                        });
                                    }
                                };
                            }
                        };
                    }
                };
            }
        };
        
        // Firebase ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyC1XDqgki7lKMz-EE4ZFzOLmku8EsLI0yI",
            authDomain: "login-57c14.firebaseapp.com",
            projectId: "login-57c14",
            storageBucket: "login-57c14.firebasestorage.app",
            messagingSenderId: "847658526472",
            appId: "1:847658526472:web:05adaddfea3afff8e12ebd"
        };
        
        // ========== UI í•¨ìˆ˜ ==========
        function showTab(tabName) {
            console.log("ğŸ“Œ íƒ­ ì „í™˜:", tabName);
            
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ì„ íƒí•œ íƒ­ í™œì„±í™”
            document.querySelector(`.tab[onclick="showTab('${tabName}')"]`).classList.add('active');
            
            // ëª¨ë“  í¼ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.form-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // ì„ íƒí•œ í¼ í‘œì‹œ
            document.getElementById(`${tabName}-form`).classList.add('active');
            
            // ìƒíƒœ ë©”ì‹œì§€ ì´ˆê¸°í™”
            document.getElementById(`${tabName}-status`).style.display = 'none';
            
            return false;
        }
        
        function showStatus(form, message, type = 'info') {
            const statusEl = document.getElementById(`${form}-status`);
            statusEl.textContent = message;
            statusEl.className = `status ${type}`;
            statusEl.style.display = 'block';
            
            // 5ì´ˆ í›„ ìë™ ìˆ¨ê¸°ê¸° (ì—ëŸ¬/ì„±ê³µë§Œ)
            if (type === 'error' || type === 'success') {
                setTimeout(() => {
                    statusEl.style.display = 'none';
                }, 5000);
            }
        }
        
        // ========== íšŒì›ê°€ì… í•¨ìˆ˜ ==========
        async function handleSignup() {
            console.log("ğŸ“ íšŒì›ê°€ì… ì²˜ë¦¬ ì‹œì‘");
            
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
            const email = document.getElementById('signup-email').value.trim();
            const name = document.getElementById('signup-name').value.trim();
            const password = document.getElementById('signup-password').value;
            const confirm = document.getElementById('signup-confirm').value;
            
            // ê¸°ë³¸ ìœ íš¨ì„± ê²€ì‚¬
            if (!email || !name || !password || !confirm) {
                showStatus('signup', 'ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }
            
            if (password !== confirm) {
                showStatus('signup', 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
                return;
            }
            
            if (password.length < 6) {
                showStatus('signup', 'ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.', 'error');
                return;
            }
            
            // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
            const btn = document.getElementById('signup-btn');
            const originalText = btn.textContent;
            btn.disabled = true;
            btn.textContent = 'ì²˜ë¦¬ ì¤‘...';
            
            try {
                // Firebase ì´ˆê¸°í™”
                const app = firebase.initializeApp(firebaseConfig);
                const auth = firebase.auth();
                const db = firebase.firestore();
                
                console.log("âœ… Firebase ê°ì²´ ìƒì„± ì™„ë£Œ");
                
                // Firebase Authì— ì‚¬ìš©ì ìƒì„± (ì‹¤ì œë¡œëŠ” ì‹¤íŒ¨í•  ê²ƒ)
                showStatus('signup', 'Firebase ì—°ê²° ì‹œë„ ì¤‘...', 'info');
                
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                
                // ì—¬ê¸°ê¹Œì§€ ì˜¤ì§€ ì•ŠìŒ (ìœ„ì—ì„œ ì—ëŸ¬ ë°œìƒ)
                
            } catch (error) {
                console.error("âŒ íšŒì›ê°€ì… ì‹¤íŒ¨:", error);
                
                // Firebase ì—°ê²° ì‹¤íŒ¨ì¸ ê²½ìš° ëª¨ì˜ ì„±ê³µ ì²˜ë¦¬
                if (error.message.includes('Firebase SDKê°€ ì‹¤ì œë¡œ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤')) {
                    showStatus('signup', `ğŸ‰ ${name}ë‹˜, íšŒì›ê°€ì… ë¡œì§ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\n(ì‹¤ì œ Firebase ì—°ê²° í•„ìš”)`, 'success');
                    
                    // í¼ ì´ˆê¸°í™”
                    document.getElementById('signup-email').value = '';
                    document.getElementById('signup-name').value = '';
                    document.getElementById('signup-password').value = '';
                    document.getElementById('signup-confirm').value = '';
                    
                    // 2ì´ˆ í›„ ë¡œê·¸ì¸ íƒ­ìœ¼ë¡œ
                    setTimeout(() => {
                        showTab('login');
                        document.getElementById('login-email').value = email;
                        showStatus('login', `${name}ë‹˜, ì‹¤ì œ Firebase ì—°ê²° í›„ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”!`, 'success');
                    }, 2000);
                } else {
                    showStatus('signup', `ì—ëŸ¬: ${error.message}`, 'error');
                }
                
            } finally {
                // ë²„íŠ¼ ë³µì›
                btn.disabled = false;
                btn.textContent = originalText;
            }
        }
        
        // ========== ë¡œê·¸ì¸ í•¨ìˆ˜ ==========
        async function handleLogin() {
            console.log("ğŸ”‘ ë¡œê·¸ì¸ ì²˜ë¦¬ ì‹œì‘");
            
            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value;
            
            if (!email || !password) {
                showStatus('login', 'ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }
            
            const btn = document.getElementById('login-btn');
            const originalText = btn.textContent;
            btn.disabled = true;
            btn.textContent = 'ë¡œê·¸ì¸ ì¤‘...';
            
            try {
                const auth = firebase.auth();
                showStatus('login', 'ë¡œê·¸ì¸ ì‹œë„ ì¤‘...', 'info');
                
                await auth.signInWithEmailAndPassword(email, password);
                
                // ì—¬ê¸°ê¹Œì§€ ì˜¤ì§€ ì•ŠìŒ
                
            } catch (error) {
                console.error("âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨:", error);
                
                if (error.message.includes('Firebase SDKê°€ ì‹¤ì œë¡œ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤')) {
                    showStatus('login', `í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸: ${email}\n(ì‹¤ì œ Firebase ì—°ê²° í•„ìš”)`, 'info');
                } else {
                    showStatus('login', `ë¡œê·¸ì¸ ì‹¤íŒ¨: ${error.message}`, 'error');
                }
                
            } finally {
                setTimeout(() => {
                    btn.disabled = false;
                    btn.textContent = originalText;
                }, 1500);
            }
        }
        
        // ========== í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ ==========
        function testFirebase() {
            console.log("ğŸ§ª Firebase í…ŒìŠ¤íŠ¸ ì‹œì‘");
            
            const systemStatus = document.getElementById('system-status');
            
            // 1. firebase ê°ì²´ í™•ì¸
            if (typeof firebase === 'undefined') {
                systemStatus.textContent = "âŒ firebase ê°ì²´ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤";
                systemStatus.className = "status error";
                return;
            }
            
            systemStatus.textContent = "âœ… firebase ê°ì²´: ìˆìŒ";
            systemStatus.className = "status success";
            
            // 2. Firebase ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸
            setTimeout(() => {
                try {
                    const app = firebase.initializeApp(firebaseConfig);
                    systemStatus.textContent = `âœ… Firebase ì´ˆê¸°í™” ì„±ê³µ: ${app.options.projectId}`;
                    
                    // 3. Auth, Firestore ê°ì²´ í…ŒìŠ¤íŠ¸
                    setTimeout(() => {
                        const auth = firebase.auth();
                        const db = firebase.firestore();
                        systemStatus.textContent = "âœ… ëª¨ë“  Firebase ê°ì²´ ìƒì„± ì™„ë£Œ!";
                        
                        alert("Firebase í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\nì½˜ì†”ì„ í™•ì¸í•˜ì„¸ìš”.");
                        
                    }, 1000);
                    
                } catch (error) {
                    systemStatus.textContent = `âŒ Firebase ì´ˆê¸°í™” ì‹¤íŒ¨: ${error.message}`;
                    systemStatus.className = "status error";
                }
            }, 500);
        }
        
        function testTabButton() {
            console.log("ğŸ”˜ íƒ­ ë²„íŠ¼ í…ŒìŠ¤íŠ¸");
            
            // í˜„ì¬ í™œì„± íƒ­ í™•ì¸
            const currentTab = document.querySelector('.tab.active').textContent;
            console.log("í˜„ì¬ í™œì„± íƒ­:", currentTab);
            
            // ë°˜ëŒ€ íƒ­ìœ¼ë¡œ ì „í™˜
            if (currentTab === 'ë¡œê·¸ì¸') {
                showTab('signup');
                setTimeout(() => {
                    showTab('login');
                    alert("íƒ­ ì „í™˜ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!");
                }, 500);
            } else {
                showTab('login');
                setTimeout(() => {
                    showTab('signup');
                    alert("íƒ­ ì „í™˜ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!");
                }, 500);
            }
        }
        
        function showConsole() {
            console.log("ğŸ“Ÿ ì½˜ì†” ì—´ê¸° ìš”ì²­");
            alert("ê°œë°œì ë„êµ¬(F12)ë¥¼ ì—´ê³  Console íƒ­ì„ í™•ì¸í•˜ì„¸ìš”.\n\ní˜„ì¬ firebase ê°ì²´ ìƒíƒœ: " + typeof firebase);
        }
        
        // ========== ì´ˆê¸°í™” ==========
        window.onload = function() {
            console.log("ğŸ“„ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ");
            
            // ì‹œìŠ¤í…œ ìƒíƒœ ì—…ë°ì´íŠ¸
            const systemStatus = document.getElementById('system-status');
            systemStatus.textContent = "âœ… ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ";
            systemStatus.className = "status success";
            
            // firebase ê°ì²´ ìƒíƒœ í‘œì‹œ
            setTimeout(() => {
                if (typeof firebase !== 'undefined') {
                    systemStatus.textContent = "âœ… firebase ê°ì²´ ë¡œë“œë¨";
                } else {
                    systemStatus.textContent = "âš ï¸ firebase ê°ì²´ ë¡œë“œ ì‹¤íŒ¨ - ëª¨ì˜ ê°ì²´ ì‚¬ìš© ì¤‘";
                    systemStatus.className = "status info";
                }
            }, 1000);
            
            console.log("ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ");
            console.log("firebase ê°ì²´:", typeof firebase);
            console.log("í˜ì´ì§€ ì œëª©:", document.title);
        };
        
        // ì—”í„° í‚¤ ì´ë²¤íŠ¸
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const activePanel = document.querySelector('.form-panel.active');
                if (activePanel.id === 'login-form') {
                    handleLogin();
                } else if (activePanel.id === 'signup-form') {
                    handleSignup();
                }
            }
        });
        
        console.log("ğŸš€ ì‹œìŠ¤í…œ ë¶€íŒ… ì™„ë£Œ");
    </script>
</body>
</html>
